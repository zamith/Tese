\documentclass[12pt,a4paper,twoside]{book} % article, report or essay

%\usepackage[margin=3cm]{geometry} %margins

\usepackage[portuges,english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{a4wide}
\usepackage{epigraph}
%\usepackage{txfonts}% use Arial && Times New Roman
\usepackage{mathpazo}
\usepackage[pdftex]{color,graphicx}
\usepackage{subfigure}
\usepackage{fancyhdr}
\usepackage{fancyvrb}
%\usepackage{microtype}
\usepackage[printonlyused,withpage]{acronym}
\usepackage{multirow}
\usepackage{longtable}
\usepackage{moreverb}
\usepackage{verbatim}
\usepackage{listings}
\usepackage{color}
\usepackage{xcolor}
\usepackage{listings}
\usepackage{framed}
\usepackage{caption}
\usepackage{float}
\usepackage{xspace}
\usepackage[pdfauthor={Lu\'{i}s Ferreira PG15533},pdftitle={Bridging the gap between SQL and NoSQL},a4paper,pdftex,bookmarks,colorlinks,linkcolor=black,urlcolor=black,citecolor=black]{hyperref}
\usepackage[hyperpageref]{backref}
\renewcommand*{\backref}[1]{}
\renewcommand*{\backrefalt}[4]{%
\ifcase #1 %
(Not cited.)%
\or
 \textbf{Cited} on page~#2.%
\else
 \textbf{Cited} on pages~#2.%
\fi}
\renewcommand*{\backrefsep}{, }
\renewcommand*{\backreftwosep}{ and~}
\renewcommand*{\backreflastsep}{ and~}
\usepackage{natbib}
\usepackage[algoruled,linesnumbered,shortend]{algorithm2e}
%\usepackage{algorithmic}

\usepackage{tabularx}

\usepackage{enumerate}
\usepackage{url}
\usepackage{epstopdf}

\usepackage{setspace}
\usepackage{mathtools}
\usepackage{amsmath}
\usepackage{booktabs}
%\linespread{1.3}
\onehalfspace

%\usepackage{amssymb}




\newcommand{\tab}{\hspace*{2em}}

\usepackage{epigraph}

\usepackage{todonotes}

\floatstyle{boxed}
\newfloat{program}{hbt}{lop}
\floatname{program}{Program}

\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox{gray}{\parbox{\textwidth-7pt}{#1#2#3}}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white}

%\lstset{ %
%language=C,                % choose the language of the code
%basicstyle=\small,       % the size of the fonts that are used for the code
%numbers=left,                   % where to put the line-numbers
%numberstyle=\tiny,      % the size of the fonts that are used for the line-numbers
%stepnumber=1,                   % the step between two line-numbers. If it's 1 each line will be numbered
%numbersep=15pt,                  % how far the line-numbers are from the code
%%backgroundcolor=\color{gray},  % choose the background color. You must add \usepackage{color}
%%showspaces=false,               % show spaces adding particular underscores
%showstringspaces=false,         % underline spaces within strings
%%showtabs=false,                 % show tabs within strings adding particular underscores
%%frame=single,	                % adds a frame around the code
%tabsize=2,	                % sets default tabsize to 2 spaces
%%captionpos=b,                   % sets the caption-position to bottom
%breaklines=true,                % sets automatic line breaking
%%breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
%%title=\lstname,                 % show the filename of files included with \lstinputlisting; also try caption instead of title
%%escapeinside={\%*}{*)}   % if you want to 
%%add a comment within your code
%morekeywords={refines, refine, @Refines, @Refine, pointcut, call, before, after, around, within, args, target,aspect}            % if you want to add more %keywords to the set
%}

%\lstset{%language=Java,
%  basicstyle=\small,
%  keywordstyle=\color{black}\bfseries\underbar,
%  stringstyle=\ttfamily, % typewriter type for strings
%  showstringspaces=false,
%  columns=fullflexible,
%  captionpos=b,
%  frame=tb,
%  rulesepcolor=\color{black},
%  tabsize=2,
%  numbers=left,
%  firstnumber=1,
%  numberfirstline=true,
%  numberstyle=\scriptsize,
%  mathescape=true
%}

\lstset{
  basicstyle=\ttfamily,
  keywordstyle=\color[rgb]{0,0,1},
  commentstyle=\color[rgb]{0.133,0.545,0.133},
  stringstyle=\color[rgb]{0.627,0.126,0.941},
  xrightmargin=10pt,
  framextopmargin=0pt,
  framexleftmargin=17pt,
  framexrightmargin=17pt,
  framexbottommargin=4pt,
  breaklines=true,
  showspaces=false,
  showstringspaces=false, 
  showtabs=false,
  tabsize=2,
}


\newcommand{\upp}{Uppaal\xspace}
\parindent=16pt
\parskip=4pt

\pdfpagewidth 8.3in
\pdfpageheight 11.7in 


\textwidth 5.9in
\oddsidemargin 0.3in
\evensidemargin 0.02in

%\textwidth 4.8in
%\oddsidemargin 0.35in
%\evensidemargin 1.1in


%\linespread{1.3}
\pagestyle{headings}

\renewcommand{\arraystretch}{1.2}

\begin{document}



%%%%%% Formal begining of the thesis
\pagenumbering{roman}
	
	%% cover
	\thispagestyle{empty}
	\input{cover2.tex}
	
	\newpage
	
	\newpage
	\thispagestyle{plain}
	\mbox{}
	\input{sections/permissao.tex}
	
	% Ep√≠grafe
	
	\newpage
	\thispagestyle{plain}
	\mbox{}
	
	\newpage
	\thispagestyle{empty}
	\input{sections/epigraph.tex}

	\cleardoublepage
	
	%% acknowledgements
	\chapter*{Acknowledgments}
	\input{ack.tex}
	
	\newpage
	\thispagestyle{plain}
	\mbox{}
	
	
	%% resumo
	\chapter*{Resumo}
	\input{resumo.tex}
	
	\newpage
	\thispagestyle{plain}
	\mbox{}
	
	%% abstract
	\chapter*{Abstract}
	\input{abstract.tex}
	
	\newpage
	\thispagestyle{plain}
	\mbox{}
		
	
	%% table of contents
	\tableofcontents{}
	
%	\newpage
%	\thispagestyle{plain}
%	\mbox{}
	
	%% list of figures
%	\cleardoublepage
	\listoffigures
    \newpage
    \thispagestyle{plain}
    \mbox{}	
	%% list of tables
%	\cleardoublepage
	\listoftables
	\newpage
	\thispagestyle{plain}
	\mbox{}
    
    \renewcommand\lstlistingname{Code Sample}
    %\renewcommand\lstlistlistingname{List of Code Samples}
    %\lstlistoflistings
    %\newpage
	%\thispagestyle{plain}
	%\mbox{}

    %\listofalgorithms
    %\newpage
	%\thispagestyle{plain}
	%\mbox{}

   \chapter*{List of Acronyms}
    \begin{acronym}[TDMA]
	  \acro{api}[API]{Application Programming Interface}
	  \acro{ansi}[ANSI]{American National Standards Institute}
	  \acro{cql}[CQL]{Cassandra Querying Language}
	  \acro{dbms}[DBMS]{Database Management System}
  	  \acro{eb}[EB]{Emulated Browser}
	  \acro{http}[HTTP]{Hypertext Transfer Protocol}
	  \acro{iso}[ISO]{International Organization for Standardization}
	  \acro{jdbc}[JDBC]{Java Database Connectivity}
	  \acro{jvm}[JVM]{Java Virtual Machine}
	  \acro{ltm}[LTM]{Local Transaction Manager}
	  \acro{mvcc}[MVCC]{Multiversion concurrency control}
	  \acro{orm}[ORM]{Object Relational Mapper}
	  \acro{ram}[RAM]{Random Access Memory}
	  \acro{rdbms}[RDBMS]{Relational Database Management System}
	  \acro{rest}[REST]{Representational state transfer}
	  \acro{sql}[SQL]{Structured Query Language}
	  \acro{url}[URL]{Uniform Resource Locator}
	  \acro{vlsd}[VLSD]{Very Large Scale Distributed Database}
	  \acro{wal}[WAL]{Write-ahead Log}	 
	  \acro{ycsb}[YCSB]{Yahoo! Cloud Serving Benchmark}	 
	\end{acronym}
%	\chapter*{}
%	\newpage
\newpage
\thispagestyle{plain}
\mbox{}
\cleardoublepage
	
%%%%%% Content

\pagenumbering{arabic}
	\acresetall
	
    %% chapters
	\chapter{Introduction}
	\label{chap:intro}
        \input{sections/introduction.tex}
		\mbox{}
    \chapter{VLSDs}
        \input{sections/tuplestores.tex}
   	    \mbox{}		
    \chapter{SQL}
       \input{sections/sql.tex}
   	   \mbox{}
	\chapter{SQL over a VLSD}
	\label{chap:cass}
       \input{sections/mywork.tex}
       \mbox{}
	\chapter{Fully Distributed Transactional Model}
	\label{chap:fdtm}
       \input{sections/fdtm.tex}
   	   \mbox{}
    
    \chapter{Results and Performance Analysis}
       \input{sections/results.tex}
   	   \mbox{}	
	%	\newpage
		\thispagestyle{plain}
		\mbox{}
    \chapter{Related Work}
       \input{sections/rel_work.tex}
   	\mbox{}	
   \chapter{Conclusions}
   	\input{sections/conclusions.tex}
   	\newpage
   	\thispagestyle{plain}
   	\mbox{}

	\bibliographystyle{alpha}
%	\bibliographystyle{abbrv}
	\cleardoublepage
	\renewcommand\bibname{References}
	%\addcontentsline{toc}{chapter}{References}
	\bibliography{references}
	
	\appendix
		%\chapter{Additional Results}
		%	\input{appendix/results_appendix.tex}
		%	
		\chapter{Code}
		    \label{app:code}
			\input{appendix/code_and_scripts.tex}

\end{document}